ext.mpsVersion = "2021.3.2"
ext.languageName = "alfi"

ext.alfVersion = "1.1.0k"

// here add your required plugins
// to find a plugin entry, search in https://plugins.jetbrains.com/ for the plugin name and obtain the ID from URL (e.g. 13242 for grammarcells)
// if you need a specific version for a plugin, add it in []-brackets
ext.mpsPlugins = []

ext.customMpsPlugins = [
  "de.itemis.mps.extensions": "https://projects.itemis.de/nexus/content/repositories/mbeddr/de/itemis/mps/extensions/2021.3.2450.28b2c76/extensions-2021.3.2450.28b2c76.zip",
  "de.itemis.mps.grammarcells": "https://projects.itemis.de/nexus/service/local/repositories/mbeddr/content/io/github/jetbrains/mps-extensions/grammarcells/2021.3.2450.28b2c76/grammarcells-2021.3.2450.28b2c76.zip",
  "TextGenGen": "https://github.com/Fumapps/textGenGen/releases/download/2021.3.2-beta3/TextGenGen.zip",
]

apply from: 'gradle/init-gradle-scripts.gradle'

task prepareMps {
    group 'mps'
    dependsOn 'buildOsSpecificBundle'
}

task mpsBuild {
    group 'mps'
    dependsOn 'mpsAntGenerate', 'mpsAntBuild'
}

task mpsClean {
    group 'mps'
    dependsOn 'mpsAntCleanSources'
}

task mpsTest {
    group 'mps'
    dependsOn 'mpsAntCheck', 'parseTestReportAfterAntCheck'
}

task startMpsAndOpenProject {
    group 'mps'
    dependsOn 'openProjectInMpsForCurrentOs'
}

task buildAndOpenProjectInMps {
    group 'mps'
    dependsOn mpsBuild, startMpsAndOpenProject
}

apply from: 'gradle/install-alf.gradle'
